# Система за филми
## 1. Vector
- Класът представлява шаблонен динамичен масив.
- Има канонично представяне, оператор [], за да се държи подобно на масив и някои основни фунцкии за добавяне, изтриване и търсене на елементи. 
- Вътрешният буфер се уголемява авоматично ако бъде запълнен.
- Има оператор за отпечатване в output stream.
- Класът разчита на това, че обектите, които съхранява имат канонично представяне.

### 1.1 Някои шаблонни фунцкии от по-висок ред за работа с вектори
- SortVector
    - Получава референция към вектор, comparator фунцкия и има опция да сортира наобратно. Мутира подадения вектор.
- filterVector
    - Получава референция към вектор и филтрираща фунцкия(предикат). НЕ мутира подадения вектор. Проверява предиката за всеки от елементите на вектора и връща НОВ вектор, съставен от елементите на подадения за които предиката е верен.
- mapVector
    - Получава референция към вектор и map фунцкия. Изпълнява функцията върху всеки от елементите на вектори и му присвоява получената стойност. Мутира подадения вектор.
- paramFilterVector
    - Доста подобна на filterVector, но предиката, който получава е двуместен, като първият му аргумент е от типа на елементите във вектора, а втория е произволен тип М. Фунцкията получава и стойност от тип М, която да подава на предиката като 2ри аргумент.

## 2. String
- Основната му идея е да бъде wrapper на буфер от char-ове. Предоставя някои удобни оператори за конкатенация и сравнение, както и оператор за достъп до елемент [].
- Класът има канонично представяне
- Има няколко конструктора, може да бъде конструиран от char*, int, double, Vector<char> или друг стринг.
- Има оператор = както са стрингове, така и за char*.
- Има оператори за четене и писане от поток, като този за четене използва Vector<char> за да може да прочете предварително неизвестно количество информация.

## 3. Movie
- Класът описва филм. Основните данни които съхранява са:
    + Име на филма:
    + Име на режисьора на филма
    + Година на премиерата
    + id за филма, което представлява стринг от името и годината
    + Рейтинг даден от потребителите
    + Дали е римейк на друг филм и евентуално id-то на другия филм
    + Вектор от стрингове с имената на актьорите, които участват в него
    + Жанр
- **Important:** Класът не се нуждае от канонично представяне, защото всичките му член данни ще бъдат добре обработени от default-но създадените оператор = и copy-конструктор.
- Класът има get методи за всичките си член данни
- Има оператори `==` и `!=`, които сравняват по id.
- Има фунцкия за записване във файлов поток.
- Има конструктор, който да извлича член данните от файлов поток и така да създава обекта.
- Има само 2 мутиращи фунцкии:
    + За добавяне на актьор в списъка с актьори
    + За добавяне на потребителски рейтинг
        * Филлмът пази само сумарният рейтинг от потребителите, а не всяка оценка по отделно.

### 3.1. Някои допълнителни фунцкии
- Има няколко compare фунцкии, които сравняват филми по различни член-данни на обектите
- Една map фунцкия, която само принтира обект от тип movie и го връща.
- Оператор за извеждане в поток
- Няколко двуместни предиката, които да се използват с paramFilterVector върху вектор от филми.

## 4. Date
- Класът описва дата с ден, месец и година.
- Конструкторът приема 3те аргумента - ден, месец, година и ги валидира.
    + Ако не са валидни, се вдига corrupted флаг и в датата се записва 1.1.1970
- Има get фунцкии за 3те данни и flag функция `isCorrupted`
- Оператори за вход и изход от поток

## 5. Role
- Енумерация
- Имплементиран е оператор за четене от поток, както и 2 фунцкии за четене и писане за файлов поток.

## 6. Review
- Класът описва потребителско ревю за даден филм.
- Има 3 член данни:
    + id на филма, за който се отнася
    + коментар на потребителя за филма
    + оценка на потребителя за филма
- има get методи за 3-те член данни
- има 2 булеви фунцкии:
    + `addComment`: приема стринг и го задава като коментар, ако такъв още не е даден
    + `addRating`: приема число и го задава като оценка, ако такава още не е дадена
    И двете фунцкии връщат истина при успех и лъжа в противен случай

## 7. MovieStaff
- Класът пази основна информация за участник във филм:
    + Име
    + Рождена дата
    + Вектор от стрингове, в който са записани id-тата на филмите, в които участва
    + Роля
- get методи за член данните
- булева фунцкия `is` която приема роля и проверява дали участникът има тази роля
- Фунцкия за записване във файлов поток
- Конструктор, който приема файлов поток и прочита данните за обекта от там
- Оператор << за отпечатване в поток 
- Функция за добавяне на филм във вектора от филми

## 8. User
- Класът предоставя фунцкионалности за работа с потребители
- Пази информация за потребител:
    + потребителско име
    + парола
    + 2 флага за валидиране на името и паролата, които се вдигат автоматично след конструиране или използване на set-методите
    + Вектор от ревюта на филми
- get методи за името и паролата
- set методи за името и паролата
- Фунцкия, която проверява дали user-a е администраторът
- Фунцкия, която сравнява името и паролата на потребителя с подадени такива и връща истина ако и двете съвпадат и лъжа в противен случаи
- Фунцкия за добавяне на коментар за филм
- Фунцкия за добавяне на оценка за филм
        * Ако вече има коментар или оценка, фунцкиите връщат лъжа, тъй като един филм може да бъде коментиран/оценяван само по 1 път
- Фунцкия за записване на обекта във файлов поток
- Конструктор, който приема файлов поток и прочита данните за обекта от там
- Две валидиращи фунцкии, които връщат състоянието на флаговете за името и паролата.
- Булева фунцкия, която приема id на филм и връща истина ако потребителя е коментирал или е дал оценка за този филм
- Фунцкия която приема id на филм и връща оценката на потребителя за филма
- Фунцкия която приема id на филм и връща коментара на потребителя за филма
- Оператор << за отпечатване в поток

## 9. Dispatcher
- Класът, който представлява самата система
- В основният интерфейс на системата влизат няколко функции:
    + start - стартира системата като прочита информацията от файловете
    + shutdown - спира системата като записва информацията във файловете
        * 2-те фунцкии са синхронизирани с булев флаг и не могат да бъдат извикани в грешна последователност
    + registerUser - комуникира с потребителя, за да изпълни регистрация
    + login - комуникира с потребителя, за да го логне в ситемата
        * При 3 неуспешни опита връща false, при успех - true
    + logut
    + 3 булеви фунцкии за проверка на логнатия потребител - дали е администратор, дали има логнат потребител, дали няма логнат потребител
    + `addMovie` - комуникира с администарторът, за да добави филм към колекцията
    + `review` - комуникира с потребителя, за да добави коментар или рейтинг за филм
    + `sortMovies` - комуникира с потребителя и му показва сортираната колекция от филми според неговия избор
    + `searchRemakes` - търси и показва римейк филмите на избран филм
    + `searchReviews` търси и показва ревютата на избран филм
    + `filterMovies` - филтрира филмите според избран от потребителя филтър и въведена от него стойност. Предоставя фунцкионалност за търсене. Филтрите се наслагват и по този начин търсенето може да е по повече от един филтър.